{
    "Simple Pendulum": {
        "prefix": "pendulum",
        "body": [
            "\\\\system{${1:pendulum}}",
            "",
            "% Define generalized coordinate",
            "\\\\defvar{${2:theta}}{Angle}",
            "",
            "% Physical parameters",
            "\\\\parameter{m}{${3:1.0}}      % mass (kg)",
            "\\\\parameter{l}{${4:1.0}}      % length (m)",
            "\\\\parameter{g}{${5:9.81}}     % gravity (m/s^2)",
            "",
            "% Lagrangian: L = T - V",
            "\\\\lagrangian{\\\\frac{1}{2}*m*l^2*\\\\dot{${2:theta}}^2 + m*g*l*\\\\cos{${2:theta}}}",
            "",
            "% Initial conditions",
            "\\\\initial{${2:theta}}{${6:0.5}}",
            "\\\\initial{${2:theta}_dot}{${7:0}}"
        ],
        "description": "Simple pendulum system template"
    },
    "Double Pendulum": {
        "prefix": "double-pendulum",
        "body": [
            "\\\\system{${1:double_pendulum}}",
            "",
            "% Generalized coordinates",
            "\\\\defvar{theta1}{Angle}",
            "\\\\defvar{theta2}{Angle}",
            "",
            "% Parameters",
            "\\\\parameter{m1}{${2:1.0}}",
            "\\\\parameter{m2}{${3:1.0}}",
            "\\\\parameter{l1}{${4:1.0}}",
            "\\\\parameter{l2}{${5:1.0}}",
            "\\\\parameter{g}{9.81}",
            "",
            "% Lagrangian (kinetic - potential energy)",
            "\\\\lagrangian{",
            "    \\\\frac{1}{2}*(m1+m2)*l1^2*\\\\dot{theta1}^2 +",
            "    \\\\frac{1}{2}*m2*l2^2*\\\\dot{theta2}^2 +",
            "    m2*l1*l2*\\\\dot{theta1}*\\\\dot{theta2}*\\\\cos{theta1 - theta2} +",
            "    (m1+m2)*g*l1*\\\\cos{theta1} +",
            "    m2*g*l2*\\\\cos{theta2}",
            "}",
            "",
            "\\\\initial{theta1}{${6:0.5}}",
            "\\\\initial{theta1_dot}{0}",
            "\\\\initial{theta2}{${7:0.5}}",
            "\\\\initial{theta2_dot}{0}"
        ],
        "description": "Double pendulum (chaotic) system template"
    },
    "Harmonic Oscillator": {
        "prefix": "oscillator",
        "body": [
            "\\\\system{${1:harmonic_oscillator}}",
            "",
            "\\\\defvar{x}{Position}",
            "",
            "\\\\parameter{m}{${2:1.0}}     % mass",
            "\\\\parameter{k}{${3:1.0}}     % spring constant",
            "",
            "% Lagrangian: L = T - V = (1/2)mv^2 - (1/2)kx^2",
            "\\\\lagrangian{\\\\frac{1}{2}*m*\\\\dot{x}^2 - \\\\frac{1}{2}*k*x^2}",
            "",
            "\\\\initial{x}{${4:1.0}}",
            "\\\\initial{x_dot}{${5:0}}"
        ],
        "description": "Simple harmonic oscillator template"
    },
    "Damped Oscillator": {
        "prefix": "damped",
        "body": [
            "\\\\system{${1:damped_oscillator}}",
            "",
            "\\\\defvar{x}{Position}",
            "",
            "\\\\parameter{m}{${2:1.0}}",
            "\\\\parameter{k}{${3:1.0}}",
            "\\\\parameter{b}{${4:0.1}}     % damping coefficient",
            "",
            "\\\\lagrangian{\\\\frac{1}{2}*m*\\\\dot{x}^2 - \\\\frac{1}{2}*k*x^2}",
            "\\\\damping{b*\\\\dot{x}}",
            "",
            "\\\\initial{x}{${5:1.0}}",
            "\\\\initial{x_dot}{0}"
        ],
        "description": "Damped harmonic oscillator template"
    },
    "System Definition": {
        "prefix": "system",
        "body": [
            "\\\\system{${1:system_name}}",
            "$0"
        ],
        "description": "Define a new physics system"
    },
    "Variable Definition": {
        "prefix": "defvar",
        "body": [
            "\\\\defvar{${1:name}}{${2|Angle,Position,Coordinate|}}"
        ],
        "description": "Define a generalized coordinate"
    },
    "Parameter": {
        "prefix": "param",
        "body": [
            "\\\\parameter{${1:name}}{${2:value}}"
        ],
        "description": "Define a physical parameter"
    },
    "Lagrangian": {
        "prefix": "lagrangian",
        "body": [
            "\\\\lagrangian{${1:T - V}}"
        ],
        "description": "Define the Lagrangian (T - V)"
    },
    "Hamiltonian": {
        "prefix": "hamiltonian",
        "body": [
            "\\\\hamiltonian{${1:T + V}}"
        ],
        "description": "Define the Hamiltonian (T + V)"
    },
    "Initial Condition": {
        "prefix": "initial",
        "body": [
            "\\\\initial{${1:variable}}{${2:value}}"
        ],
        "description": "Set initial condition"
    },
    "Constraint": {
        "prefix": "constraint",
        "body": [
            "\\\\constraint{${1:expression = 0}}"
        ],
        "description": "Add a holonomic constraint"
    },
    "Derivative (dot)": {
        "prefix": "dot",
        "body": [
            "\\\\dot{${1:variable}}"
        ],
        "description": "First time derivative"
    },
    "Derivative (ddot)": {
        "prefix": "ddot",
        "body": [
            "\\\\ddot{${1:variable}}"
        ],
        "description": "Second time derivative"
    },
    "Fraction": {
        "prefix": "frac",
        "body": [
            "\\\\frac{${1:numerator}}{${2:denominator}}"
        ],
        "description": "Fraction"
    },
    "Greek Letter": {
        "prefix": "greek",
        "body": [
            "\\\\${1|alpha,beta,gamma,delta,epsilon,theta,lambda,mu,nu,omega,phi,psi,pi,sigma,tau,rho,kappa|}"
        ],
        "description": "Insert Greek letter"
    },
    "SPH Fluid": {
        "prefix": "fluid",
        "body": [
            "\\\\region{${1:fluid_region}}{rectangle}",
            "    \\\\constraint{x}{0, ${2:1.0}}",
            "    \\\\constraint{y}{0, ${3:0.5}}",
            "",
            "\\\\fluid{${4:water}}{${1:fluid_region}}",
            "    \\\\density{${5:1000}}",
            "    \\\\viscosity{${6:0.001}}",
            "    \\\\smoothing{${7:0.02}}"
        ],
        "description": "SPH fluid simulation setup"
    },
    "Quantum Barrier": {
        "prefix": "quantum-barrier",
        "body": [
            "\\\\system{${1:quantum_tunneling}}",
            "",
            "% Quantum tunneling through rectangular barrier",
            "\\\\parameter{V0}{${2:5.0}}{eV}      % Barrier height",
            "\\\\parameter{L}{${3:1.0}}{nm}       % Barrier width",
            "\\\\parameter{E}{${4:3.0}}{eV}       % Particle energy",
            "\\\\parameter{m}{electron_mass}",
            "",
            "\\\\potential{rectangular_barrier}{V0, L}",
            "\\\\incident_energy{E}"
        ],
        "description": "Quantum tunneling through barrier"
    },
    "Schwarzschild Orbit": {
        "prefix": "schwarzschild",
        "body": [
            "\\\\system{${1:schwarzschild_orbit}}",
            "",
            "% Geodesic around non-rotating black hole",
            "\\\\parameter{M}{${2:1.0}}{solar_mass}",
            "\\\\parameter{rs}{2*G*M/c^2}",
            "",
            "\\\\defvar{r}{radial coordinate}{m}",
            "\\\\defvar{phi}{azimuthal angle}{rad}",
            "",
            "\\\\metric{schwarzschild}",
            "\\\\geodesic{${3|timelike,null|}}",
            "",
            "\\\\initial{r=${4:10}*rs, phi=0}",
            "\\\\initial{E=${5:0.95}, L=${6:4.0}}"
        ],
        "description": "Schwarzschild black hole geodesic"
    },
    "Kepler Orbit": {
        "prefix": "kepler",
        "body": [
            "\\\\system{${1:kepler_orbit}}",
            "",
            "% Central force problem in polar coordinates",
            "\\\\defvar{r}{radial distance}{m}",
            "\\\\defvar{phi}{azimuthal angle}{rad}",
            "",
            "\\\\parameter{m}{${2:1.0}}{kg}",
            "\\\\parameter{M}{${3:1.989e30}}{kg}      % Central mass",
            "\\\\parameter{G}{6.674e-11}{N*m^2/kg^2}",
            "",
            "\\\\lagrangian{",
            "    \\\\frac{1}{2}*m*(\\\\dot{r}^2 + r^2*\\\\dot{phi}^2)",
            "    + G*M*m/r",
            "}",
            "",
            "\\\\initial{r=${4:1e11}, phi=0}"
        ],
        "description": "Kepler orbit (central force)"
    },
    "Canonical Ensemble": {
        "prefix": "ensemble",
        "body": [
            "\\\\system{${1:quantum_ensemble}}",
            "",
            "% Statistical mechanics canonical ensemble",
            "\\\\parameter{hbar_omega}{${2:0.05}}{eV}",
            "\\\\parameter{T}{${3:300}}{K}",
            "\\\\parameter{N}{${4:1e23}}{1}",
            "",
            "\\\\ensemble{canonical}",
            "\\\\hamiltonian{(n + 0.5)*hbar_omega}"
        ],
        "description": "Canonical ensemble for quantum system"
    },
    "Cyclotron Motion": {
        "prefix": "cyclotron",
        "body": [
            "\\\\system{${1:cyclotron_motion}}",
            "",
            "% Charged particle in magnetic field",
            "\\\\parameter{B}{${2:1.0}}{T}",
            "\\\\parameter{q}{${3:1.602e-19}}{C}",
            "\\\\parameter{m}{${4:9.109e-31}}{kg}",
            "",
            "\\\\defvar{x}{m}",
            "\\\\defvar{y}{m}",
            "\\\\defvar{z}{m}",
            "",
            "\\\\magnetic_field{uniform}{B, direction=z}",
            "",
            "\\\\initial{x=0, y=0, z=0}",
            "\\\\initial{vx=${5:1e6}, vy=0, vz=${6:1e5}}"
        ],
        "description": "Cyclotron motion in magnetic field"
    },
    "Three-Body Problem": {
        "prefix": "three-body",
        "body": [
            "\\\\system{${1:three_body}}",
            "",
            "% Gravitational three-body problem",
            "\\\\defvar{x1}{m}  \\\\defvar{y1}{m}",
            "\\\\defvar{x2}{m}  \\\\defvar{y2}{m}",
            "\\\\defvar{x3}{m}  \\\\defvar{y3}{m}",
            "",
            "\\\\parameter{m}{${2:1.0}}{kg}",
            "\\\\parameter{G}{${3:1.0}}{N*m^2/kg^2}",
            "",
            "\\\\lagrangian{",
            "    0.5*m*(\\\\dot{x1}^2 + \\\\dot{y1}^2 + \\\\dot{x2}^2 + \\\\dot{y2}^2 + \\\\dot{x3}^2 + \\\\dot{y3}^2)",
            "    + G*m^2/\\\\sqrt{(x1-x2)^2 + (y1-y2)^2}",
            "    + G*m^2/\\\\sqrt{(x2-x3)^2 + (y2-y3)^2}",
            "    + G*m^2/\\\\sqrt{(x1-x3)^2 + (y1-y3)^2}",
            "}"
        ],
        "description": "Gravitational three-body problem"
    },
    "Carnot Engine": {
        "prefix": "carnot",
        "body": [
            "\\\\system{${1:carnot_engine}}",
            "",
            "% Thermodynamic Carnot cycle",
            "\\\\parameter{T_hot}{${2:600}}{K}",
            "\\\\parameter{T_cold}{${3:300}}{K}",
            "\\\\parameter{n}{${4:1.0}}{mol}",
            "",
            "\\\\working_fluid{ideal_gas}",
            "\\\\cycle{carnot}"
        ],
        "description": "Carnot engine thermodynamic cycle"
    }
}